(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3d4290b8"],{"3a9b":function(t,e,r){"use strict";r.r(e),r.d(e,"Username",(function(){return l}));var o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"login"},[r("div",{ref:"vantaRef",staticClass:"left",staticStyle:{height:"100vh"}},[r("h1",{staticStyle:{color:"#8B4513",width:"20%"}},[t._v("心研汇")])]),r("div",{staticClass:"right",on:{keydown:function(e){if(!("button"in e)&&t._k(e.keyCode,"enter",13,e.key,"Enter"))return null;t.submitForm("loginForm")}}},[r("el-form",{ref:"loginForm",attrs:{model:t.loginForm,rules:t.rules,"status-icon":"","label-width":"90px"}},[r("el-form-item",{attrs:{label:"ID",prop:"account"}},[r("el-input",{attrs:{type:"text"},model:{value:t.loginForm.account,callback:function(e){t.$set(t.loginForm,"account",e)},expression:"loginForm.account"}})],1),r("el-form-item",{attrs:{label:"密码",prop:"password"}},[r("el-input",{attrs:{type:"password","show-password":""},model:{value:t.loginForm.password,callback:function(e){t.$set(t.loginForm,"password",e)},expression:"loginForm.password"}})],1),r("el-form-item",[r("el-button",{staticClass:"btn",attrs:{type:"submit"},on:{click:function(e){t.submitForm("loginForm")}}},[t._v("登录")])],1)],1),t._m(0)],1)])},n=[function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"pic"},[o("img",{staticStyle:{position:"fixed",bottom:"0","margin-right":"50px",width:"150px",height:"100px"},attrs:{src:r("555a"),alt:"icon"}})])}],s=(r("7f7f"),r("6b54"),r("5a89")),a=r("373f"),i="/internal/login/supervisor",l=null,c={data:function(){var t=function(t,e,r){var o=/^[Z0-9]+$/;""===e?r(new Error("请输入ID")):e.length<1?r(new Error("ID不少于1位")):o.test(e)?r():r(new Error("ID只包含数字"))},e=function(t,e,r){var o=/^[a-zA-Z0-9]+$/;0===e.length?r(new Error("请输入密码")):e.length<6?r(new Error("密码长度不少于6位")):o.test(e)?r():r(new Error("格式错误"))};return{currentIndex:"login",activeTab:"",loginForm:{type:0,account:"",password:""},registerForm:{username:"",password:"",phone:"",email:"",confirmPassword:""},rules:{username:[{validator:t,trigger:"blur"}],password:[{validator:e,trigger:"blur"}]}}},mounted:function(){this.vantaEffect=Object(a["a"])({el:this.$refs.vantaRef,THREE:s}),VANTA.BIRDS({el:this.$refs.vantaRef,mouseControls:!0,touchControls:!0,gyroControls:!1,minHeight:200,minWidth:200,scale:1,scaleMobile:1,backgroundColor:15921636,color1:5449228,color2:13743649})},beforeDestroy:function(){this.vantaEffect&&this.vantaEffect.destroy()},methods:{switchToLogin:function(){this.activeTab="login"},submitForm:function(t){var e=this;this.$refs[t].validate((function(t){if(t){var r=new URLSearchParams;r.append("id",parseInt(e.loginForm.account,10)),r.append("password",e.loginForm.password),e.$axios.post(i,r.toString(),{headers:{"Content-Type":"application/x-www-form-urlencoded"}}).then((function(t){if("1"===t.data.code){var r=t.data.data,o=r.supervisorId,n=r.name,s=r.token,a="supervisor";localStorage.setItem("userType",a),localStorage.setItem("LoginState","true"),e.$store.dispatch("setUserInfo",{userId:o,username:n,token:s,userType:a}),localStorage.setItem("supervisorId",o),localStorage.setItem("supervisorname",n),localStorage.setItem("token",s),e.$router.push("/SupervisorHome")}else e.$message.error(t.data.msg)})).catch((function(t){e.$message.error("登录失败!")}))}else e.$message.error("输入数据不合法!")}))},handleTabsClick:function(t){this.activeTab=t.name},clearRegisterForm:function(){this.registerForm={username:"",password:"",phone:"",email:"",confirmPassword:""}}}},u=c,m=(r("3d86"),r("0c7c")),d=Object(m["a"])(u,o,n,!1,null,"c8fdf4f8",null);e["default"]=d.exports},"3d86":function(t,e,r){"use strict";r("abe9")},abe9:function(t,e,r){}}]);
//# sourceMappingURL=chunk-3d4290b8.73f4c1dd.js.map