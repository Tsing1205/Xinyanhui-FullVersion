(function(e){function n(n){for(var a,u,s=n[0],r=n[1],d=n[2],f=0,l=[];f<s.length;f++)u=s[f],Object.prototype.hasOwnProperty.call(o,u)&&o[u]&&l.push(o[u][0]),o[u]=0;for(a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a]);i&&i(n);while(l.length)l.shift()();return c.push.apply(c,d||[]),t()}function t(){for(var e,n=0;n<c.length;n++){for(var t=c[n],a=!0,u=1;u<t.length;u++){var s=t[u];0!==o[s]&&(a=!1)}a&&(c.splice(n--,1),e=r(r.s=t[0]))}return e}var a={},u={app:0},o={app:0},c=[];function s(e){return r.p+"js/"+({}[e]||e)+"."+{"chunk-06d48f8c":"6b8c9bfb","chunk-121a15a3":"7fb21261","chunk-1747f9a1":"49d0e13a","chunk-b06cc252":"d0755c9a","chunk-29dad080":"cb3c4b1b","chunk-31acecaf":"d81d63c9","chunk-6e15bdf8":"28dfd0da","chunk-6fd6fe3d":"c0a4d9a3","chunk-92a57118":"a16d234d","chunk-50f0bee8":"ca751ffd","chunk-292683b3":"fd7fd8e1","chunk-3d4290b8":"73f4c1dd","chunk-3ecefb40":"89803da2","chunk-7ce68772":"eda1e1ac"}[e]+".js"}function r(n){if(a[n])return a[n].exports;var t=a[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,r),t.l=!0,t.exports}r.e=function(e){var n=[],t={"chunk-121a15a3":1,"chunk-1747f9a1":1,"chunk-b06cc252":1,"chunk-29dad080":1,"chunk-31acecaf":1,"chunk-6e15bdf8":1,"chunk-6fd6fe3d":1,"chunk-92a57118":1,"chunk-292683b3":1,"chunk-3d4290b8":1,"chunk-3ecefb40":1,"chunk-7ce68772":1};u[e]?n.push(u[e]):0!==u[e]&&t[e]&&n.push(u[e]=new Promise((function(n,t){for(var a="css/"+({}[e]||e)+"."+{"chunk-06d48f8c":"31d6cfe0","chunk-121a15a3":"fb417237","chunk-1747f9a1":"bbff288d","chunk-b06cc252":"d7bd5f68","chunk-29dad080":"72cda677","chunk-31acecaf":"f6ebb026","chunk-6e15bdf8":"62823c18","chunk-6fd6fe3d":"37f73b02","chunk-92a57118":"7942c3c5","chunk-50f0bee8":"31d6cfe0","chunk-292683b3":"eb3e0490","chunk-3d4290b8":"bae0112d","chunk-3ecefb40":"c22d1622","chunk-7ce68772":"861c1445"}[e]+".css",o=r.p+a,c=document.getElementsByTagName("link"),s=0;s<c.length;s++){var d=c[s],f=d.getAttribute("data-href")||d.getAttribute("href");if("stylesheet"===d.rel&&(f===a||f===o))return n()}var l=document.getElementsByTagName("style");for(s=0;s<l.length;s++){d=l[s],f=d.getAttribute("data-href");if(f===a||f===o)return n()}var i=document.createElement("link");i.rel="stylesheet",i.type="text/css",i.onload=n,i.onerror=function(n){var a=n&&n.target&&n.target.src||o,c=new Error("Loading CSS chunk "+e+" failed.\n("+a+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=a,delete u[e],i.parentNode.removeChild(i),t(c)},i.href=o;var m=document.getElementsByTagName("head")[0];m.appendChild(i)})).then((function(){u[e]=0})));var a=o[e];if(0!==a)if(a)n.push(a[2]);else{var c=new Promise((function(n,t){a=o[e]=[n,t]}));n.push(a[2]=c);var d,f=document.createElement("script");f.charset="utf-8",f.timeout=120,r.nc&&f.setAttribute("nonce",r.nc),f.src=s(e);var l=new Error;d=function(n){f.onerror=f.onload=null,clearTimeout(i);var t=o[e];if(0!==t){if(t){var a=n&&("load"===n.type?"missing":n.type),u=n&&n.target&&n.target.src;l.message="Loading chunk "+e+" failed.\n("+a+": "+u+")",l.name="ChunkLoadError",l.type=a,l.request=u,t[1](l)}o[e]=void 0}};var i=setTimeout((function(){d({type:"timeout",target:f})}),12e4);f.onerror=f.onload=d,document.head.appendChild(f)}return Promise.all(n)},r.m=e,r.c=a,r.d=function(e,n,t){r.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},r.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,n){if(1&n&&(e=r(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(r.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var a in e)r.d(t,a,function(n){return e[n]}.bind(null,a));return t},r.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(n,"a",n),n},r.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},r.p="/admin/",r.oe=function(e){throw console.error(e),e};var d=window["webpackJsonp"]=window["webpackJsonp"]||[],f=d.push.bind(d);d.push=n,d=d.slice();for(var l=0;l<d.length;l++)n(d[l]);var i=f;c.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"4dcb":function(e,n,t){},"56d7":function(e,n,t){"use strict";t.r(n);t("0fae");var a=t("9e2f"),u=t.n(a),o=(t("cadf"),t("551c"),t("f751"),t("097d"),t("2b0e")),c=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},s=[],r={name:"app",components:{}},d=r,f=t("0c7c"),l=Object(f["a"])(d,c,s,!1,null,null,null),i=l.exports,m=t("cee4"),h=t("f529"),p=t.n(h),b=t("e5f2"),k=t.n(b),g=t("6ed5"),v=t.n(g),S=t("896a"),y=t.n(S),I=t("4726"),w=t.n(I),E=t("d775"),_=t.n(E),T=t("7d94"),C=t.n(T),N=t("e360"),O=t.n(N),P=t("c673"),M=t.n(P),A=t("7bc3"),L=t.n(A),U=t("a447"),j=t.n(U),$=t("fe11"),x=t.n($),R=t("e1a5"),F=t.n(R),W=t("aa2f"),H=t.n(W),B=t("c69e"),J=t.n(B),V=t("5cc3"),q=t.n(V),D=t("7b31"),K=t.n(D),z=t("3d2d"),G=t.n(z),Q=t("dd3d"),X=t.n(Q),Y=t("7464"),Z=t.n(Y),ee=t("c7ad"),ne=t.n(ee),te=t("d180"),ae=t.n(te),ue=t("c0bb"),oe=t.n(ue),ce=t("301f"),se=t.n(ce),re=t("9cea"),de=t.n(re),fe=t("6640"),le=t.n(fe),ie=t("95b0"),me=t.n(ie),he=t("33ca"),pe=t.n(he),be=t("a4c4"),ke=t.n(be),ge=t("06f9"),ve=t.n(ge),Se=t("9dda"),ye=t.n(Se),Ie=t("c284"),we=t.n(Ie),Ee=t("89a9"),_e=t.n(Ee),Te=t("c2cc"),Ce=t.n(Te),Ne=t("0f6c"),Oe=t.n(Ne),Pe=t("a578"),Me=t.n(Pe),Ae=t("20cf"),Le=t.n(Ae),Ue=t("e04d"),je=t.n(Ue),$e=t("6721"),xe=t.n($e),Re=t("8bbc"),Fe=t.n(Re),We=t("dd87"),He=t.n(We),Be=t("72aa"),Je=t.n(Be),Ve=t("3787"),qe=t.n(Ve),De=t("4105"),Ke=t.n(De),ze=t("c216"),Ge=t.n(ze),Qe=t("76b9"),Xe=t.n(Qe),Ye=t("299c"),Ze=t.n(Ye),en=t("6ac9"),nn=t.n(en),tn=t("946e"),an=t.n(tn),un=t("3e9c"),on=t.n(un),cn=t("c263"),sn=t.n(cn),rn=t("ecdf"),dn=t.n(rn),fn=t("ad41"),ln=t.n(fn),mn=t("845f"),hn=t.n(mn),pn=t("eedf"),bn=t.n(pn),kn=t("486c"),gn=t.n(kn),vn=t("e772"),Sn=t.n(vn),yn=t("4e4b"),In=t.n(yn),wn=t("b35b"),En=t.n(wn),_n=t("7fc1"),Tn=t.n(_n),Cn=t("1599"),Nn=t.n(Cn),On=t("dcdc"),Pn=t.n(On),Mn=t("0d7b"),An=t.n(Mn),Ln=t("6ac5"),Un=t.n(Ln),jn=t("f494"),$n=t.n(jn),xn=t("e450"),Rn=t.n(xn),Fn=t("f3ad"),Wn=t.n(Fn),Hn=t("3803"),Bn=t.n(Hn),Jn=t("4cb2"),Vn=t.n(Jn),qn=t("f58e"),Dn=t.n(qn),Kn=t("443e"),zn=t.n(Kn),Gn=t("18ff"),Qn=t.n(Gn),Xn=t("defb"),Yn=t.n(Xn),Zn=t("b370"),et=t.n(Zn),nt=t("58b8"),tt=t.n(nt),at=t("df33"),ut=t.n(at),ot=t("101e"),ct=t.n(ot);o["default"].use(ct.a),o["default"].use(ut.a),o["default"].use(tt.a),o["default"].use(et.a),o["default"].use(Yn.a),o["default"].use(Qn.a),o["default"].use(zn.a),o["default"].use(Dn.a),o["default"].use(Vn.a),o["default"].use(Bn.a),o["default"].use(Wn.a),o["default"].use(Rn.a),o["default"].use($n.a),o["default"].use(Un.a),o["default"].use(An.a),o["default"].use(Pn.a),o["default"].use(Nn.a),o["default"].use(Tn.a),o["default"].use(En.a),o["default"].use(In.a),o["default"].use(Sn.a),o["default"].use(gn.a),o["default"].use(bn.a),o["default"].use(hn.a),o["default"].use(ln.a),o["default"].use(dn.a),o["default"].use(sn.a),o["default"].use(on.a),o["default"].use(an.a),o["default"].use(nn.a),o["default"].use(Ze.a),o["default"].use(Xe.a),o["default"].use(Ge.a),o["default"].use(Ke.a),o["default"].use(qe.a),o["default"].use(Je.a),o["default"].use(He.a),o["default"].use(Fe.a),o["default"].use(xe.a),o["default"].use(je.a),o["default"].use(Le.a),o["default"].use(Me.a),o["default"].use(Oe.a),o["default"].use(Ce.a),o["default"].use(_e.a),o["default"].use(we.a),o["default"].use(ye.a),o["default"].use(ve.a),o["default"].use(ke.a),o["default"].use(pe.a),o["default"].use(me.a),o["default"].use(le.a),o["default"].use(de.a),o["default"].use(se.a),o["default"].use(oe.a),o["default"].use(ae.a),o["default"].use(ne.a),o["default"].use(Z.a),o["default"].use(X.a),o["default"].use(G.a),o["default"].use(K.a),o["default"].use(q.a),o["default"].use(J.a),o["default"].use(H.a),o["default"].use(F.a),o["default"].use(x.a),o["default"].use(j.a),o["default"].use(L.a),o["default"].use(M.a),o["default"].use(O.a),o["default"].use(C.a),o["default"].use(_.a),o["default"].use(w.a),o["default"].use(y.a.directive),o["default"].prototype.$loading=y.a.service,o["default"].prototype.$msgbox=v.a,o["default"].prototype.$alert=v.a.alert,o["default"].prototype.$confirm=v.a.confirm,o["default"].prototype.$prompt=v.a.prompt,o["default"].prototype.$notify=k.a,o["default"].prototype.$message=p.a;var st=t("8c4f");o["default"].use(st["a"]);var rt=[{path:"/consultanthome",name:"consultantHome",component:function(){return Promise.all([t.e("chunk-06d48f8c"),t.e("chunk-1747f9a1"),t.e("chunk-b06cc252")]).then(t.bind(null,"4c0f"))}},{path:"/adminhome",name:"adminHome",component:function(){return t.e("chunk-7ce68772").then(t.bind(null,"c732"))}},{path:"/supervisorhome",name:"supervisorHome",component:function(){return Promise.all([t.e("chunk-1747f9a1"),t.e("chunk-92a57118")]).then(t.bind(null,"ce85"))}},{path:"/Adminlogin",name:"AdminLogin",component:function(){return Promise.all([t.e("chunk-50f0bee8"),t.e("chunk-3ecefb40")]).then(t.bind(null,"23b1"))}},{path:"/Supervisorlogin",name:"SupervisorLogin",component:function(){return Promise.all([t.e("chunk-50f0bee8"),t.e("chunk-3d4290b8")]).then(t.bind(null,"3a9b"))}},{path:"/Consultantlogin",name:"ConsultantLogin",component:function(){return Promise.all([t.e("chunk-50f0bee8"),t.e("chunk-292683b3")]).then(t.bind(null,"be00"))}},{path:"/chat/:appointmentId",name:"Chat",component:function(){return Promise.all([t.e("chunk-06d48f8c"),t.e("chunk-6fd6fe3d")]).then(t.bind(null,"e6b0"))}},{path:"/chatsc/:appointmentId",name:"Chatsc",component:function(){return Promise.all([t.e("chunk-06d48f8c"),t.e("chunk-6e15bdf8")]).then(t.bind(null,"7c91"))}},{path:"/chatsuper/:appointmentId",name:"Chatsuper",component:function(){return Promise.all([t.e("chunk-06d48f8c"),t.e("chunk-31acecaf")]).then(t.bind(null,"952b"))}},{path:"/chatobs/:appointmentId",name:"chatobs",component:function(){return Promise.all([t.e("chunk-06d48f8c"),t.e("chunk-29dad080")]).then(t.bind(null,"ed9e"))}},{path:"/chatnormal/:sessionId",name:"chatnormal",component:function(){return Promise.all([t.e("chunk-06d48f8c"),t.e("chunk-121a15a3")]).then(t.bind(null,"60d8"))}}],dt=new st["a"]({mode:"history",base:"/admin/",routes:rt}),ft=dt,lt=(t("4dcb"),t("2f62")),it={state:{ws:null,isConnected:!1,messages:[],newSessionNotification:null},mutations:{addMessage:function(e,n){e.messages.push(n)},setMessages:function(e,n){e.messages=n},setWebSocket:function(e,n){e.ws=n},setConnectionStatus:function(e,n){e.isConnected=n},setNewSessionNotification:function(e,n){e.newSessionNotification=n}},actions:{connectWebSocket:function(e,n){var t=this,a=e.commit,u=e.state;if(!u.ws){var o=window.location.host,c="ws://".concat(o,"/notify?token=").concat(n),s=new WebSocket(c);s.onopen=function(){a("setConnectionStatus",!0)},s.onclose=function(){a("setConnectionStatus",!1),t.$message.error("WebSocket disconnected")},s.onmessage=function(e){var n=JSON.parse(e.data);alert("您有一条新消息！"),a("addMessage",n),2===n.type&&a("setNewSessionNotification",{msg:n.msg,time:n.time,sessionId:n.data.sessionId,obId:n.data.observeSessionId?n.data.observeSessionId:null})},a("setWebSocket",s)}},disconnectWebSocket:function(e){var n=e.state;n.ws&&(n.ws.close(),n.ws=null)}},getters:{ws:function(e){return e.ws},isConnected:function(e){return e.isConnected},getMessages:function(e){return e.messages},newSessionNotification:function(e){return e.newSessionNotification}}};o["default"].use(lt["a"]);var mt=new lt["a"].Store({state:{userId:null,username:null,token:null,userType:null,activeMenu:null},mutations:{SET_USER_INFO:function(e,n){e.userId=n.userId,e.username=n.username,e.token=n.token,e.userType=n.userType},CLEAR_USER_INFO:function(e){e.userId=null,e.username=null,e.token=null,e.userType=null},SET_ACTIVE_MENU:function(e,n){e.activeMenu=n}},actions:{setUserInfo:function(e,n){var t=e.commit;t("SET_USER_INFO",n)},clearUserInfo:function(e){var n=e.commit;n("CLEAR_USER_INFO")},setActiveMenu:function(e,n){var t=e.commit;t("SET_ACTIVE_MENU",n)}},getters:{getUserInfo:function(e){return{userId:e.userId,username:e.username,token:e.token,userType:e.userType}},getActiveMenu:function(e){return e.activeMenu}},modules:{websocket:it}});ft.beforeEach((function(e,n,t){if(e.meta.isLogin){var a=localStorage.getItem("LoginState");if("true"===a){var u=localStorage.getItem("token");if(u){var o=localStorage.getItem("userType");if("consultant"===o){var c=localStorage.getItem("consultantId"),s=localStorage.getItem("consultantname");mt.commit("SET_USER_INFO",{userId:c,username:s,token:u,userType:o})}else if("admin"===o){var r=localStorage.getItem("adminId"),d=localStorage.getItem("adminname");mt.commit("SET_USER_INFO",{userId:r,username:d,token:u,userType:o})}else if("supervisor"===o){var f=localStorage.getItem("supervisorId"),l=localStorage.getItem("supervisorname");mt.commit("SET_USER_INFO",{userId:f,username:l,token:u,userType:o})}mt.commit("SET_ACTIVE_MENU",e.path),t()}else t({name:"Login"})}else t({name:"Login"})}else t()})),o["default"].use(u.a),m["a"].defaults.baseURL="/api",m["a"].defaults.headers.post["Content-Type"]="application/json",m["a"].defaults.withCredentials=!0,o["default"].prototype.$axios=m["a"],o["default"].config.productionTip=!1,new o["default"]({router:ft,store:mt,render:function(e){return e(i)}}).$mount("#app")}});
//# sourceMappingURL=app.d4693700.js.map